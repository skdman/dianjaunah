<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dianjaunah | Checkout</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
body {font-family: 'Poppins', sans-serif; background: #fff0f5; color: #5a3e36;}
.container {width: 90%; max-width: 800px; margin: auto; padding: 40px 0;}
h1 {text-align: center; margin-bottom: 30px;}
.checkout-item {background: #fff; border: 1px solid #f2dede; border-radius: 8px; padding: 15px 20px; margin-bottom: 15px; display: flex; justify-content: space-between;}
.total {text-align: right; font-size: 20px; margin-top: 20px; font-weight: 600;}
.empty {text-align: center; color: #aaa;}
.confirm-btn, .back-btn {display: inline-block; padding: 10px 20px; border-radius: 6px; font-weight: 600; color: #fff; text-decoration: none; cursor: pointer; border: none; margin-top: 20px;}
.confirm-btn {background: #4caf50; margin-right: 10px;}
.confirm-btn:hover {background: #3e8e41;}
.back-btn {background: #e86b8a;}
.back-btn:hover {background: #d35470;}
</style>
</head>
<body>
<div class="container">
<h1>Checkout</h1>
<div id="checkoutItems"></div>
<p class="total" id="checkoutTotal"></p>
<div style="text-align:center;">
  <button id="confirmBtn" class="confirm-btn">Confirm Order</button>
  <a href="cart.html" class="back-btn">Back to Cart</a>
</div>
</div>

<script>
const checkoutContainer = document.getElementById('checkoutItems');
const checkoutTotal = document.getElementById('checkoutTotal');
const confirmBtn = document.getElementById('confirmBtn');
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function renderCheckout() {
  checkoutContainer.innerHTML = '';
  if(cart.length === 0){
    checkoutContainer.innerHTML = '<p class="empty">Your cart is empty ðŸ˜¢</p>';
    checkoutTotal.textContent = '';
    confirmBtn.style.display = 'none';
    return;
  }

  let total = 0;
  cart.forEach(item => {
    const subtotal = item.price * item.qty;
    total += subtotal;
    checkoutContainer.innerHTML += `
      <div class="checkout-item">
        <span>${item.name} (Size: ${item.size}) Ã— ${item.qty}</span>
        <span>RM${subtotal.toFixed(2)}</span>
      </div>
    `;
  });

  checkoutTotal.textContent = `Total: RM${total.toFixed(2)}`;
  confirmBtn.style.display = 'inline-block';
}

// Confirm order
confirmBtn.addEventListener('click', () => {
  if(cart.length === 0) return alert("Your cart is empty!");
  const totalAmount = cart.reduce((sum, item) => sum + item.price * item.qty, 0).toFixed(2);
  alert(`Order confirmed! Total amount: RM${totalAmount}. Thank you for shopping with us!`);
  cart = [];
  localStorage.removeItem("cart");
  renderCheckout();
});

renderCheckout();
</script>
</body>
</html>
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
</head>

<body>
</body>
</html>
